{
	// Link to the official schema so editors can offer autocomplete and validation.
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",

	// Reuse Renovate's recommended defaults (sensible scheduling, dependency limits, etc.).
	"extends": [
		"config:recommended"
	],

	// Only activate the Dockerfile manager since this repo is focused on container image updates.
	"enabledManagers": [
		"dockerfile"
	],

	// Force Renovate to pin every image tag to a digest for reproducible builds.
	"pinDigests": true,

	// Tell Renovate where Dockerfiles live so it scans both root-level and templated copies.
	"dockerfile": {
		"fileMatch": [
			"(^|/)Dockerfile$",
			"Dockerfiles/.*\\.Dockerfile$"
		]
	},

	"packageRules": [
		{
			// Apply labeling and PR-splitting behavior to every Dockerfile update in the repo.
			"matchManagers": [
				"dockerfile"
			],
			"matchPaths": [
				"Dockerfiles/**"
			],
			// Auto-label Renovate PRs so they're easy to spot in the teaching repo.
			"addLabels": [
				"renovate",
				"dependencies",
				"docker"
			],
			// Keep major bumps in their own PRs for easier review.
			"separateMajorMinor": true,
			// Likewise split minor versus patch bumps to illustrate Renovate's granularity.
			"separateMinorPatch": true
		}
		// {
		// 	// Disable major updates entirely to keep the focus on patch/minor refreshes.
		// 	"matchManagers": [
		// 		"dockerfile"
		// 	],
		// 	"matchUpdateTypes": [
		// 		"major"
		// 	],
		// 	"enabled": false
		// }
	]
}
